pipeline {
   agent any
   stages {
     stage ('code') {
        steps {
           git branch:'master',url:'https://github.com/rahullbarik/web-apps.git'
        }
     } 
     stage('build') {
        steps {
           sh "mvn clean package"
        }
     }
     stage('deploy') {
        steps {
           deploy adapters: [tomcat9(credentialsId: '4bcbc10a-1224-4737-a0de-060d6828dd00', path: '', url: 'http://98.81.246.44:8080')], contextPath: 'tomcat', onFailure: false, war: 'target/*.war'
        }
     }
   }
}
